package me.rexysaur.void_.Client.util;

import java.util.Date;
import java.util.Timer;
import java.util.TimerTask;
import java.util.concurrent.Callable;

public abstract class Interval {
	protected static boolean isTiming = true;
	
	public Interval(int time, Callable<Integer> func)
	{
		Timer timer = new Timer();
		timer.schedule(new IntervalTimer(time, func), time * 1000);
	}
	
	public void cancel()
	{
		Interval.isTiming = false;
	}

	class IntervalTimer extends TimerTask{
		public int time;
		public Callable<Integer> func;
		
		public IntervalTimer(int time, Callable<Integer> func) {
			this.time = time;
			this.func = func;
		}

		@Override
		public void run() {
			if (Interval.isTiming)
			{
				try {
					this.func.call();
				} catch (Exception e) {
					e.printStackTrace();
				}
				
				Timer timer = new Timer();
				timer.schedule(new IntervalTimer(time, func), time * 1000);		
			}
		}
	}
}